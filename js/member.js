// Generated by CoffeeScript 1.4.0
(function() {
  var Member, _ref,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  if ((_ref = window.birdseye) == null) {
    window.birdseye = {};
  }

  Member = (function() {

    function Member(id, fullName, username) {
      this.id = id;
      this._error = __bind(this._error, this);

      this.matches = __bind(this.matches, this);

      this.update = __bind(this.update, this);

      this.fullName = ko.observable(fullName);
      this.username = ko.observable(username);
    }

    Member.prototype.update = function() {
      var _this = this;
      return Trello.members.get("" + this.id, {}, function(data) {
        _this.fullName(data.fullName);
        return _this.username(data.username);
      }, this._error);
    };

    Member.prototype.matches = function(filter) {
      var f;
      if ((filter != null) && ((this.fullName() != null) || (this.username() != null))) {
        f = filter.toLowerCase();
        return this.fullName().toLowerCase().indexOf(f) >= 0 || this.username().indexOf(f) >= 0;
      } else {
        return true;
      }
    };

    Member.prototype._error = function(m) {
      return console.log("Error: " + m);
    };

    return Member;

  })();

  window.birdseye.Member = Member;

}).call(this);
